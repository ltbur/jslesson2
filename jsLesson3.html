<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   <button class="select">赤を持つ</button> 
   <button class="select">緑を持つ</button> 
   <button class="select">青を持つ</button> 
   <button onclick="writePen()">書く</button> 
   <p id="info"></p>
   <script>
       class ColorPen{
           constructor(color,length){
               this.color=color;
               this.length=length;
           }
           write(){
               let msg='';
               if(this.length<=0){
                    msg='もうかけません!';
                    
               }else{
                    this.length-=0.5;
                    msg=this.color+'で書いた。残りの長さ'+this.length;
               }
               return msg;
           }
       }
       const bts=document.querySelectorAll('.select');//querySelectorAll見つけたものを全部返す
       let pens=[new ColorPen('赤',10),new ColorPen('緑',10),new ColorPen('青',10)];//配列を用意
       let pen=null;
       const info=document.getElementById('info');
       for(let i=0;i<bts.length;i++){//配列といえばfor文
           bts[i].addEventListener('click',()=>{
                pen=pens[i];//i=0→赤、1→緑、2→青
                info.textContent=pen.color+'を持った。';
           });
       }
       const writePen=()=>{
           let msg='';
           if(pen==null){
            msg='ペンを持ってください!';
           }else{
            msg=pen.write();
           }
           info.textContent=msg;
       }; 
   </script>
</body>
</html>